<?php
if ($getHelperFieldsValuesFromObject) {
    $dataObject = $endpointTargetFieldset->getObject();
    // setting value for server_toggle
    if ($dataObject->getServer()) {
        $valueServerToggle = 'single_server';
    } else {
        $valueServerToggle = 'multiple_servers';
    }
    $endpointTargetFieldset->get('server_toggle')->setValue($valueServerToggle);
    // setting value for cluster_toggle
    if ($dataObject->getCluster()) {
        $valueClusterToggle = 1;
    } else {
        $valueClusterToggle = 0;
    }
    $endpointTargetFieldset->get('cluster_toggle')->setValue($valueClusterToggle);
}
?>
<?php
$fieldgroupName = 'specific-endpoint-target';
$fieldgroupCssClass = 'col-md-6';
$fieldgroupTitle = $this->translate('Target - specific settings');
$fieldgroupFormRows = [
    $this->formRow($endpointTargetFieldset->get('type')),
    $this->formRow($endpointTargetFieldset->get('username')),
    $this->formRow($endpointTargetFieldset->get('folder')),
    $this->formRow($endpointTargetFieldset->get('server_toggle')),
    $this->formRow($endpointTargetFieldset->get('servers')),
    $this->formRow($endpointTargetFieldset->get('service_address_toggle')),
    $this->formRow($endpointTargetFieldset->get('service_address')),
    $this->formRow($endpointTargetFieldset->get('cluster_toggle')),
    $this->formRow($endpointTargetFieldset->get('cluster'))
];
echo $this->partial('/partials/fieldgroup',
    [
        'fieldgroupName' => $fieldgroupName,
        'fieldgroupCssClass' => $fieldgroupCssClass,
        'fieldgroupTitle' => $fieldgroupTitle,
        'formRows' => $fieldgroupFormRows,
        'emptyView' => false
    ]);
?>
