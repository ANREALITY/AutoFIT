<?php
use DbSystel\DataObject\FileTransferRequest;
?>
<table class="table table-striped">
    <tr>
        <th><?php echo $this->translate('request ID'); ?></th>
        <th><?php echo $this->translate('change number'); ?></th>
        <th><?php echo $this->translate('request summary'); ?></th>
        <th>&nbsp;</th>
    </tr>
    <?php foreach ($fileTransferRequests as $fileTransferRequest) : ?>
    <tr>
        <td><?php echo $fileTransferRequest->getId(); ?></td>
        <td><a
            href='<?php echo $this->url('show-order', ['id' => $fileTransferRequest->getId()]); ?>'><?php echo $fileTransferRequest->getChangeNumber(); ?></a>
            <br />
            <small><?php echo $this->translate($fileTransferRequest->getStatus()); ?></small>
        </td>
        <td><?php echo $this->partial('/partials/list/summary', ['fileTransferRequest' => $fileTransferRequest]); ?></td>
        <td>
            <?php if($this->OrderStatusChecker()->isAllowedOperationForStatus('accept', $fileTransferRequest->getStatus())) : ?>
            <a class="btn btn-success" href="<?php echo $this->url('accept-order', ['id' => $fileTransferRequest->getId()]); ?>"><?php echo $this->translate('accept order'); ?></a>
            <?php endif; ?>
            <?php if($this->OrderStatusChecker()->isAllowedOperationForStatus('decline', $fileTransferRequest->getStatus())) : ?>
            <a class="btn btn-danger" href="<?php echo $this->url('decline-order', ['id' => $fileTransferRequest->getId()]); ?>"><?php echo $this->translate('decline order'); ?></a>
            <?php endif; ?>
            <?php if($this->OrderStatusChecker()->isAllowedOperationForStatus('complete', $fileTransferRequest->getStatus())) : ?>
            <a class="btn btn-primary" href="<?php echo $this->url('complete-order', ['id' => $fileTransferRequest->getId()]); ?>"><?php echo $this->translate('complete order'); ?></a>
            <?php endif; ?>
        </td>
    </tr>
    <?php endforeach; ?>
</table>
